# 2019.10.31 论文总结 

### 李倩：Data-driven Routing Optimization based on Programmable Data Plane

### Backgroud

> 多媒体应用中对带宽的要求正在逐步提升

> 提前预留空间会导致很高的成本以及很低的链路利用率

> TE(Traffic Engineering) 是用来流量调度，将流量均衡到全网


### 之前的TE解决方案

> 网络遥测

> 带外网络遥测： Out-band network telementry （e.g. Netflow[1], sFlow[2]）

> 较高的检测负载、非常重要的交换机资源计算、较长的探测周期

> 路由策略

> 启发式算法

> 网络状态和路由优化策略之间的关系是非常难以用一个简单的数学模型来描述的

> 过度困难的数学模型通常会对运行这些模型的节点中的存储、计算资源有很高的要求

### 基于强化学习的TE解决方案

> Learning to route

> 假设： 不同时间点的流量需求矩阵是固定的，并且可以很好地被网络测量所预测

> 输入： 长度为K（过去K个时间节点）的流量矩阵

> 输出： 所有链路的权重

> 优化目标： 减少网络二拥塞
 
> DRL-TE

> 输入：FCT 和 K个TCP流的吞吐量

> 输出：这K个TCP流在多条子路径（sub-paths）上的流量分配比例

> 优化目标：最大化利用率方程

### Motivations

> Learning to route[1]

> [1]中的假设较为保守: 只是尝试将强化学习（RL）应用到TE中，并不是一个实际性的工作 

> DRL-TE[2]
 
> TCP流的增加包含预测不到的表现

> 在RL模型的设计过程中并未考虑到可扩展性（scalability） 


### 我们的想法

> SDN的突发状况

> 网络趋向于更加功能化和透明化

> 测量：带内遥测（In-band network telemetry）

> 强化学习的突破

> 经验驱动、无需模型的控制

> 我们可以将INT与强化学习相结合来实现TE，我们的方案名称为DPRO


### Challenges

> INT不能直接应用

> INT的参考模型太过于复杂，对于交换机来说会占用很多的处理延迟

> 我们重新设计了基于P4的数据包处理逻辑，从而将INT与常规数据包的处理结合起来

> 使用强化学习并不简单

> 强化学习性能好坏与模型的设计有很大关系

> 输入和输出之间的关系会影响收敛速度

> 我们简化了RL模型的复杂程度：学习链路负载与链路负载之间的关系

### 贡献

> 我们是第一个提出一个完整的实际的、基于INT、数据驱动的控制框架

> 我们基于P4设计了一个智能的交换机数据包处理逻辑，从而实现了快速发送以及及低的探测负载

> 我们建立了一个实验平台，通过实验我们证实了DRPO可以优于一些广泛使用的算法，对比的方面包括：最大链路利用率、流完成时间、数据包延迟



### Design

> DPRO 通过集成数据平面和控制平面从而解决了TE

> 数据平面：转发、网络遥测

> 控制平面：做出智能决策

> 数据平面的设计：见PPT

> 控制平面的设计：见PPT


### Evaluation

> 见PPT

### 相关工作

> TeaVaR: Striking the Right Utilization-Availability Balance in WAN Traffic Engineering


